<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Booha Word Builder – January Week 1</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Noto+Sans+JP:wght@500;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0b1530; --ink:#fff; --outline:#ffffff26; --radius:26px;
  --gold1:#fdd86d; --gold2:#ffb347; --goldGlow:0 0 10px #facc15,0 0 30px #fde68a;
  --green:#22c55e; --red:#ef4444; --purple:#7c3aed;
}
*{box-sizing:border-box;margin:0;padding:0}
body{background:var(--bg);color:var(--ink);font-family:system-ui,'Noto Sans JP',sans-serif;min-height:100vh;display:flex;flex-direction:column}

header{padding:20px 16px 10px;text-align:center}
header h1{font-family:'Cinzel',serif;letter-spacing:.5px;font-size:clamp(1.8rem,5.2vw,2.6rem);opacity:.95}
header h2{font-family:'Cinzel',serif;letter-spacing:1px;margin-top:6px;font-size:clamp(2.0rem,6.2vw,3rem);text-shadow:0 0 10px rgba(255,255,255,.12)}
.subtitle-stack{opacity:.85;font-size:.95rem;letter-spacing:.08em;display:flex;gap:.4rem;justify-content:center;flex-wrap:wrap}
.subtitle-stack .en::after{content:" / ";opacity:.8}
@media(max-width:700px){.subtitle-stack{flex-direction:column;gap:.1rem}.subtitle-stack .en::after{content:""}}

main{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem}
.playBtn{appearance:none;border:none;cursor:pointer;padding:40px 70px;border-radius:999px;font-weight:900;font-size:2.2rem;color:#1b1327;background:linear-gradient(135deg,var(--gold1),var(--gold2));box-shadow:var(--goldGlow);position:relative;overflow:hidden;isolation:isolate;touch-action:manipulation}
.playBtn::after{content:"";position:absolute;inset:-200%;background:conic-gradient(from 0deg,#fff0 0 340deg,#ffffff66 360deg);animation:shimmer 2.5s linear infinite;opacity:.7}
@keyframes shimmer{to{transform:rotate(360deg)}}
.playBtn:active{transform:scale(.97)}

.wordCard{width:min(860px,96vw);border:1px solid var(--outline);border-radius:var(--radius);padding:18px;background:rgba(255,255,255,0.04);box-shadow:0 10px 30px rgba(0,0,0,.25);margin-top:1rem}
.en{text-align:center;font-size:2rem;margin-bottom:.4rem;font-weight:900;letter-spacing:.05em}
.dropZone{margin:20px auto 10px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap;min-height:70px}
.slot{width:54px;height:66px;border:2px dashed #ffffff30;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:34px;font-weight:900;background:#12142a80;transition:background .3s,border-color .3s,box-shadow .3s}
.slot.glow{box-shadow:0 0 12px #7c3aed;}
.slot.filled{background:#14183a;border:2px solid #ffffff70;box-shadow:0 0 10px #facc15}

.bank{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;padding:14px 10px;border-radius:16px;background:rgba(255,255,255,0.03);border:1px dashed #ffffff22;min-height:74px}
.tile{user-select:none;-webkit-user-drag:none;width:54px;height:54px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:28px;background:#1b2046;border:1px solid #8690ff33;box-shadow:0 6px 12px rgba(0,0,0,.25);cursor:grab;transition:transform .15s ease,box-shadow .15s ease}
.tile:active{cursor:grabbing;transform:scale(.96)}

.btn{appearance:none;border:none;cursor:pointer;padding:12px 20px;border-radius:14px;font-weight:800;font-size:16px;color:#0b1530;background:#e5e7eb;margin:0 5px}
.btn.primary{background:linear-gradient(135deg,#a78bfa,#7c3aed);color:#fff}

footer{text-align:center;font-size:.9rem;opacity:.8;padding:12px 0;border-top:1px solid var(--outline)}
</style>
</head>
<body>
<header>
  <h1>Booha Word Builder</h1>
  <h2>January Week 1</h2>
  <div class="subtitle-stack"><span class="en">Word Builder</span></div>
</header>

<main>
  <button class="playBtn" id="playBtn">▶ PLAY</button>
  <div class="wordCard" id="card">
    <div class="en" id="en">—</div>
    <div class="dropZone" id="dropZone"></div>
    <div class="bank" id="bank"></div>
    <button class="btn primary" id="checkBtn" disabled>CHECK</button>
  </div>
</main>

<footer>
  <p>©2025 Bryan's English School | Local audio: /audio | SFX: /assets/audio</p>
</footer>

<script>
const MASTER=["goal","plan","future","dream","challenge","try","change","habit","exercise","study","learn","practice","success","focus","motivation"];
let index=0;
const en=document.getElementById('en');const drop=document.getElementById('dropZone');const bank=document.getElementById('bank');const play=document.getElementById('playBtn');const check=document.getElementById('checkBtn');
function loadCard(){const eng=MASTER[index];en.textContent=eng.toUpperCase();drop.innerHTML='';bank.innerHTML='';const letters=[...eng];letters.forEach(()=>{const s=document.createElement('div');s.className='slot';drop.appendChild(s);});let scrambled=[...letters].sort(()=>Math.random()-.5);scrambled.forEach((ch,i)=>{const t=document.createElement('div');t.className='tile';t.textContent=ch.toUpperCase();t.draggable=true;t.addEventListener('touchstart',()=>t.dataset.dragging=true);t.addEventListener('touchmove',e=>{e.preventDefault();const touch=e.touches[0];t.style.position='fixed';t.style.left=touch.clientX-25+'px';t.style.top=touch.clientY-25+'px';});t.addEventListener('touchend',e=>{t.style.position='';const touch=e.changedTouches[0];const target=document.elementFromPoint(touch.clientX,touch.clientY);if(target&&target.classList.contains('slot')&&!target.firstChild){target.appendChild(t);target.classList.add('filled');t.classList.add('lit');glowNextSlot();evaluate();}else{bank.appendChild(t);}t.dataset.dragging=false;});t.addEventListener('dragstart',e=>e.dataTransfer.setData('text/plain',i));t.addEventListener('dragend',()=>{glowNextSlot();evaluate();});bank.appendChild(t);});glowNextSlot();}
function glowNextSlot(){drop.querySelectorAll('.slot').forEach(s=>s.classList.remove('glow'));const next=[...drop.children].find(s=>!s.firstChild);if(next)next.classList.add('glow');}
function evaluate(){const filled=[...drop.children].every(s=>s.firstChild);check.disabled=!filled;}
function speak(){const a=new Audio(`audio/${MASTER[index]}.mp3`);a.play();}
play.onclick=()=>speak();
check.onclick=()=>{const ans=[...drop.children].map(s=>s.firstChild?s.firstChild.textContent.toLowerCase():'').join('');if(ans===MASTER[index]){drop.querySelectorAll('.slot').forEach(s=>{s.style.background='#052e15';s.style.boxShadow='0 0 20px #22c55e';});new Audio('assets/audio/ding.mp3').play();setTimeout(()=>{index=(index+1)%MASTER.length;loadCard();speak();},1500);}else{drop.querySelectorAll('.slot').forEach(s=>{s.style.background='#3a0e13';s.style.boxShadow='0 0 20px #ef4444';if(s.firstChild){bank.appendChild(s.firstChild);}s.classList.remove('filled');});new Audio('assets/audio/fart.mp3').play();setTimeout(()=>{drop.querySelectorAll('.slot').forEach(s=>{s.style.background='#12142a80';s.style.boxShadow='none';});glowNextSlot();evaluate();},1000);}}
loadCard();
</script>
</body>
</html>
